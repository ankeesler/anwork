language: go
go:
    - "1.11"

# This takes a little bit of pressure off of the git clone of this repo.
git:
  depth: 3

os:
  - linux
  - osx

env:
  global:
    - GO111MODULE=on
    - secure: TLvcyg164HYKLqOaI4hRp81vlHAJgFWcMa0Ve8Q07EEUqcX+o/d8DYYoSYtt6NVZNTV6L5o8qR9vClI1NfTjuuY0K941rg8fJoMcsffexS0NpF3Lhkmj7DepJ6FMtl5KuvczRLTqgS5sA12hXXzTpiTUp2m60wkxdFLoxlUcmxDefBgvgV4WvB8wkSmXEDZwN2r/bqwvWrua5eHQ0KpmZLflYVtUHwb28gjhweYxtJTuIUmLnqsMKNnq441AAcDchu4CQGjDts4n4P7p4zLWmwuJTLCMwDJUZBxmZHWauyBUx01AskOwpbuS5LADffponxSl3P5iUttlcFFXl+fCghOuWNbkBWyRAXZawv45uxunyoRb/CPG4w1DmUVx+Pqtn8Sb7EQ+qC7sXHP9I4wEQ+YKN4hFH9amBULutIG2wBKE2BoiuKoBR6q/HQeHFrfEj6eOytkiXB48a8/iVs/QtA0Vxmi2GMR1TOK596S2VrIwXvIKSxl1svoeY/YySOJHF8Xc6kbDejY2l4dTn4UK9gg644HwkMvk59uirs256MpElfGZ06IAdOyFrdIAJn6BSRpbq3sMaoUFvYW772URilv1iEP2bsyZWS1tCgBYxJM1d3AYdAoLOGFqR4H/meIBFF3Ecws4gp3TlJLYoe2f3ova2MKIB/xUJji4o3oYn+8="

install:
 - go mod download
 - go install -v github.com/onsi/ginkgo/ginkgo

script:
  - go vet ./...
  - ./ci/check-fmt.sh
  - ./ci/test.sh

after_success:
  - bash <(curl -s https://codecov.io/bash) -f *.coverprofile

notifications:
  email:
    recipients:
      - ankeesler1@gmail.com
    on_success: changed
    on_failure: always
